(this["webpackJsonpweather-300"]=this["webpackJsonpweather-300"]||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},function(e,t,n){e.exports=n(17)},,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(5),o=n.n(c),u=(n(12),n(1)),i=n(2),s=n.n(i),l=n(3),m="pk.6b301c59042b98b3fd879717a81c2c2f",f="https://us1.locationiq.com/v1";function p(){return(p=Object(l.a)(s.a.mark((function e(t){var n,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(f,"/search.php?key=").concat(m,"&q=").concat(t,"&format=json"),e.next=3,fetch(n);case 3:if((a=e.sent).ok){e.next=6;break}throw new Error(a.statusText);case 6:return e.next=8,a.json();case 8:return r=e.sent,e.abrupt("return",{lat:r[0].lat,lon:r[0].lon});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h="54fbd5dc57e65051f6052821364fa98e",d={coord:{lon:-75.76,lat:45.35},units:"metric"},w=new Map;function v(){return(v=Object(l.a)(s.a.mark((function e(t){var n,a,r,c,o,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(e){return Math.floor(Date.now()/1e3)-e>600},n=Object.assign({},d,t),a=n.coord,r=n.units,!(c=w.get(a))||u(c.current.dt)){e.next=5;break}return e.abrupt("return",c);case 5:return e.next=7,E({units:r,coord:a});case 7:return o=e.sent,w.set(a,o),e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return b.apply(this,arguments)}function b(){return(b=Object(l.a)(s.a.mark((function e(t){var n,a,r,c,o,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.coord,a=n.lat,r=n.lon,c=t.units,o="".concat("https://api.openweathermap.org/data/2.5/onecall","?lat=").concat(a,"&lon=").concat(r,"&units=").concat(c,"&appid=").concat(h),e.next=4,fetch(o);case 4:if((u=e.sent).ok){e.next=7;break}throw new Error(u.statusText);case 7:return e.abrupt("return",u.json());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t){var n=Object(a.useState)((function(){var n=window.localStorage.getItem(e);return n?JSON.parse(n):t})),r=Object(u.a)(n,2),c=r[0],o=r[1];return Object(a.useEffect)((function(){window.localStorage.setItem(e,JSON.stringify(c))}),[e,c]),[c,o]}var y=n(6),O=n.n(y);n(14);var j=function(){return r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:O.a,className:"App-logo",alt:"React logo"}),r.a.createElement("h1",null,"React Weather"))};var k=function(e){var t=e.searchTerm,n=e.setSearchTerm,a=r.a.useRef();return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n(a.current.value)}},r.a.createElement("input",{type:"text",defaultValue:t,ref:a}),r.a.createElement("button",{className:"button",type:"submit"},"Get Forecast"))};var x=function(e){var t=e.iconCode;return r.a.createElement("img",{src:"https://openweathermap.org/img/w/".concat(t,".png"),alt:"",height:"50",width:"50"})};function N(e){var t,n=e.prediction;return r.a.createElement("div",{className:"ForecastCard"},r.a.createElement("p",null,(t=n.dt,new Intl.DateTimeFormat("en-CA",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"}).format(new Date(1e3*t)))),r.a.createElement(x,{iconCode:n.weather[0].icon}),r.a.createElement("span",null,n.weather[0].description),r.a.createElement("pre",null,JSON.stringify(n,null,2)))}n(15);var S=function(e){var t=e.forecast,n=r.a.useState("hourly"),a=Object(u.a)(n,2),c=a[0],o=a[1];if(!t[c])return null;var i=t[c].slice(0,4).map((function(e){return r.a.createElement(N,{key:e.dt,prediction:e})}));return r.a.createElement("section",{className:"Forecast"},r.a.createElement("header",null,r.a.createElement("h2",null,c," Forecast"),r.a.createElement("button",{className:"button",onClick:function(){o((function(e){return"hourly"===e?"daily":"hourly"}))}},"Show ","hourly"===c?"daily":"hourly")),r.a.createElement("div",{className:"card-container"},i))};n(16);var C=function(e){var t=e.report;return r.a.createElement("section",{style:{padding:"1rem"}},r.a.createElement("h2",null,"Current Weather"),r.a.createElement("pre",null,JSON.stringify(t,null,2)))};var T=function(){var e=g("weather:search","Kanata, ON, CA"),t=Object(u.a)(e,2),n=t[0],c=t[1],o=g("weather:location",{lat:0,lon:0}),i=Object(u.a)(o,2),s=i[0],l=i[1],m=g("weather:forecast",{}),f=Object(u.a)(m,2),h=f[0],d=f[1];return Object(a.useEffect)((function(){(function(e){return p.apply(this,arguments)})(n).then(l)}),[n,l]),Object(a.useEffect)((function(){(function(e){return v.apply(this,arguments)})({coord:s}).then(d)}),[s,d]),r.a.createElement("div",{className:"App"},r.a.createElement(j,null),r.a.createElement(k,{searchTerm:n,setSearchTerm:c}),r.a.createElement(C,{report:h.current}),r.a.createElement(S,{forecast:h}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.24aa87f5.chunk.js.map